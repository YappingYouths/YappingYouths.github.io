<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Yapping Youths</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --discord-blurple: #5865F2;
      --discord-dark: #2C2F33;
      --discord-darker: #23272A;
      --discord-light: #FFFFFF;
      --discord-green: #57F287;
      --discord-black: #000000;
      --discord-grey: #99AAB5;
    }

    body {
      background-color: var(--discord-darker);
      color: var(--discord-light);
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    header {
      background-color: var(--discord-blurple);
      width: 100%;
      padding: 1em;
      font-size: 1.5em;
      font-weight: bold;
      text-align: center;
      box-shadow: 0 2px 6px rgba(0,0,0,0.5);
    }

    #splashScreen {
      background-color: var(--discord-dark);
      border: 2px solid var(--discord-blurple);
      border-radius: 8px;
      padding: 2em;
      margin: 3em;
      max-width: 400px;
      text-align: center;
    }

    #playerNamesInputs {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    #gameScreen {
      display: none;
      width: 90%;
      max-width: 900px;
      margin-top: 2em;
    }

    label {
      display: block;
      margin-top: 1em;
      font-weight: bold;
    }

    input[type="number"],
    input[type="text"] {
      width: 100%;
      padding: 0.5em;
      border-radius: 4px;
      border: none;
      margin-top: 0.3em;
      font-size: 1em;
    }

    button {
      margin-top: 1.5em;
      background-color: var(--discord-blurple);
      color: var(--discord-light);
      border: none;
      padding: 0.7em 1.5em;
      font-weight: bold;
      cursor: pointer;
      border-radius: 6px;
      font-size: 1.1em;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #4752c4;
    }

    .players {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1.5em;
      margin-bottom: 2em;
    }

    .player-card {
      background-color: var(--discord-dark);
      border-radius: 8px;
      padding: 1em 1.5em;
      flex: 1 1 200px;
      max-width: 220px;
      text-align: center;
      box-shadow: 0 0 5px rgba(88, 101, 242, 0.6);
    }

    .player-name {
      font-weight: bold;
      font-size: 1.2em;
      margin-bottom: 0.6em;
    }

    .score {
      font-size: 2.5em;
      margin: 0.3em 0;
      font-weight: bold;
      color: var(--discord-green);
    }

    .score-controls button {
      background-color: var(--discord-blurple);
      margin: 0 0.5em;
      font-size: 1.3em;
      padding: 0.2em 0.6em;
      border-radius: 6px;
    }

    .score-controls button:hover {
      background-color: #4752c4;
    }

    #winnerMessage {
      text-align: center;
      font-size: 1.8em;
      font-weight: 700;
      color: var(--discord-green);
      margin-top: 1em;
    }

    #rules {
      margin-top: 3em;
      max-width: 800px;
      font-size: 1.1em;
      color: var(--discord-grey);
      padding: 1em;
      border-top: 2px solid var(--discord-blurple);
      text-align: center;
      font-style: italic;
    }

    #cardsArea {
      margin: 2em 0;
      display: flex;
      justify-content: center;
      gap: 3em;
    }

    .card-display {
      background-color: var(--discord-dark);
      border: 2px solid var(--discord-grey);
      border-radius: 12px;
      width: 150px;
      height: 200px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.8em;
      color: var(--discord-light);
      user-select: none;
      box-shadow: 0 0 10px var(--discord-grey);
      cursor: pointer;
      text-align: center;
      overflow: hidden;
      position: relative;
    }

    .card-black {
      border-color: black;
      background-color: #111;
      color: white;
      box-shadow: 0 0 15px black;
    }

    .card-green {
      border-color: var(--discord-green);
      background-color: #003300;
      color: var(--discord-green);
      box-shadow: 0 0 15px var(--discord-green);
    }

    .card-display img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      pointer-events: none;
      user-select: none;
    }

    @media (max-width: 600px) {
      #splashScreen {
        margin: 1.5em;
        max-width: 320px;
      }

      button, input[type="number"], input[type="text"] {
        font-size: 1.1em;
        padding: 0.7em;
      }

      .card-display {
        width: 160px;
        height: 210px;
      }

      .players {
        gap: 1em;
      }

      .player-card {
        max-width: 160px;
        flex: 1 1 140px;
      }

      header {
        font-size: 1.2em;
        padding: 0.8em;
      }
    }
  </style>
</head>
<body>
  <header>Yapping Youths</header>

  <div id="splashScreen">
    <h2>Enter Player Info</h2>
    <label for="playerCount">Number of Players (3-12):</label>
    <input type="number" id="playerCount" min="3" max="12" value="3" />
    <div id="playerNamesInputs"></div>
    <button id="startGameBtn">Start Game</button>
  </div>

  <div id="gameScreen">
    <div class="players" id="playersContainer"></div>

    <div id="cardsArea">
      <div id="blackCard" class="card-display card-black" title="Black Card - Question/Prompt">
        Click to draw Black Card
      </div>
      <div id="greenCard" class="card-display card-green" title="Green Card - Rule">
        Click to draw Green Card
      </div>
    </div>

    <div id="winnerMessage"></div>

    <div id="rules">
      <strong>Rules:</strong> Draw a black card and a green card. Players must answer the black card with an explanation, and must adhere to the rule of the green card. The judge then picks the best explanation and they receive a point. First to 4 points wins.
    </div>
  </div>

  <script>
    const deckA = Array.from({length: 100}, (_, i) => `a${i + 1}`);
    const deckB = Array.from({length: 50}, (_, i) => `b${i + 1}`);

    const maxPoints = 4;
    let players = [];
    let scores = [];
    let currentBlackCard = null;
    let currentGreenCard = null;

    const splashScreen = document.getElementById('splashScreen');
    const gameScreen = document.getElementById('gameScreen');
    const playerCountInput = document.getElementById('playerCount');
    const playerNamesInputs = document.getElementById('playerNamesInputs');
    const startGameBtn = document.getElementById('startGameBtn');
    const playersContainer = document.getElementById('playersContainer');
    const winnerMessage = document.getElementById('winnerMessage');
    const blackCardDiv = document.getElementById('blackCard');
    const greenCardDiv = document.getElementById('greenCard');

    function createPlayerNameInputs() {
      playerNamesInputs.innerHTML = "";
      let count = Number(playerCountInput.value);
      if (count < 3) count = 3;
      if (count > 12) count = 12;
      playerCountInput.value = count;
      for (let i = 0; i < count; i++) {
        const label = document.createElement('label');
        label.textContent = `Player ${i + 1} Name:`;
        const input = document.createElement('input');
        input.type = 'text';
        input.placeholder = `Player ${i + 1}`;
        input.required = true;
        input.id = `playerName${i}`;
        playerNamesInputs.appendChild(label);
        playerNamesInputs.appendChild(input);
      }
    }

    playerCountInput.addEventListener('change', createPlayerNameInputs);
    createPlayerNameInputs();

    startGameBtn.addEventListener('click', () => {
      const count = Number(playerCountInput.value);
      if (count < 3) {
        alert('Minimum players is 3');
        return;
      }
      players = [];
      for (let i = 0; i < count; i++) {
        const input = document.getElementById(`playerName${i}`);
        if (!input.value.trim()) {
          alert(`Please enter a name for Player ${i + 1}`);
          return;
        }
        players.push(input.value.trim());
      }
      scores = players.map(() => 0);
      splashScreen.style.display = "none";
      gameScreen.style.display = "block";
      winnerMessage.textContent = "";
      renderPlayers();
      resetCards();
      currentDeckA = deckA.slice();
      currentDeckB = deckB.slice();
    });

    function renderPlayers() {
      playersContainer.innerHTML = "";
      players.forEach((player, idx) => {
        const playerDiv = document.createElement('div');
        playerDiv.className = "player-card";
        playerDiv.id = `player-${idx}`;

        const nameDiv = document.createElement('div');
        nameDiv.className = "player-name";
        nameDiv.textContent = player;

        const scoreDiv = document.createElement('div');
        scoreDiv.className = "score";
        scoreDiv.textContent = scores[idx];

        const controlsDiv = document.createElement('div');
        controlsDiv.className = "score-controls";

        const addBtn = document.createElement('button');
        addBtn.textContent = "+";
        addBtn.title = `Add point to ${player}`;
        addBtn.addEventListener('click', () => {
          if (scores[idx] < maxPoints) {
            scores[idx]++;
            scoreDiv.textContent = scores[idx];
            checkWinner();
          }
        });

        const subBtn = document.createElement('button');
        subBtn.textContent = "â€“";
        subBtn.title = `Subtract point from ${player}`;
        subBtn.addEventListener('click', () => {
          if (scores[idx] > 0) {
            scores[idx]--;
            scoreDiv.textContent = scores[idx];
            winnerMessage.textContent = "";
          }
        });

        controlsDiv.appendChild(subBtn);
        controlsDiv.appendChild(addBtn);

        playerDiv.appendChild(nameDiv);
        playerDiv.appendChild(scoreDiv);
        playerDiv.appendChild(controlsDiv);

        playersContainer.appendChild(playerDiv);
      });
    }

    function checkWinner() {
      for (let i = 0; i < scores.length; i++) {
        if (scores[i] >= maxPoints) {
          winnerMessage.textContent = `${players[i]} is the winner! ðŸŽ‰`;
          break;
        }
      }
    }

    function resetCards() {
      currentBlackCard = null;
      currentGreenCard = null;
      blackCardDiv.innerHTML = "Click to draw Black Card";
      greenCardDiv.innerHTML = "Click to draw Green Card";
    }

    function drawCard(deck) {
      if (deck.length === 0) return null;
      const idx = Math.floor(Math.random() * deck.length);
      const card = deck[idx];
      deck.splice(idx, 1);
      return card;
    }

    let currentDeckA = [];
    let currentDeckB = [];

    blackCardDiv.addEventListener('click', () => {
      if (currentDeckA.length === 0) currentDeckA = deckA.slice();
      const card = drawCard(currentDeckA);
      if (!card) {
        blackCardDiv.innerHTML = "No more cards in deck A";
        return;
      }
      currentBlackCard = card;
      blackCardDiv.innerHTML = `<img src="deck_a/${card}.png" alt="${card}" loading="lazy" />`;
    });

    greenCardDiv.addEventListener('click', () => {
      if (currentDeckB.length === 0) currentDeckB = deckB.slice();
      const card = drawCard(currentDeckB);
      if (!card) {
        greenCardDiv.innerHTML = "No more cards in deck B";
        return;
      }
      currentGreenCard = card;
      greenCardDiv.innerHTML = `<img src="deck_b/${card}.png" alt="${card}" loading="lazy" />`;
    });
  </script>
</body>
</html>